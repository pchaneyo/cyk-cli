test dlookup: Maria
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<xsl:stylesheet version="1.0"
    xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns:fo="http://www.w3.org/1999/XSL/Format"
    xmlns:java="http://xml.apache.org/xslt/java" exclude-result-prefixes="java">

    <xsl:template match="object[@name='resultset']">

        <fo:root xmlns:fo="http://www.w3.org/1999/XSL/Format">
            <fo:layout-master-set>
                <!-- Définition du layout -->
                <fo:simple-page-master master-name="page" page-height="29.7cm" page-width="21cm" margin="1.5cm">
                    <fo:region-body margin-top="2cm"/>
                    <fo:region-before extent="4cm"/>
                </fo:simple-page-master>
            </fo:layout-master-set>

            <!-- Début du document -->
            <fo:page-sequence master-reference="page">
                <!-- En-tête de page -->
                <fo:static-content flow-name="xsl-region-before">
                    <fo:block>
                        <fo:table width="100%" table-layout="fixed">
                            <fo:table-column column-width="proportional-column-width(1)"/>
                            <fo:table-column column-width="proportional-column-width(1)"/>
                            <fo:table-body>
                                <fo:table-row border-bottom="1pt solid black" border-top="1pt solid black" font="8pt Helvetica" font-weight="bold">
                                    <fo:table-cell background-color="lightgray" padding="5pt" >
                                        <fo:block>First Name</fo:block>
                                    </fo:table-cell>
                                    <fo:table-cell background-color="lightgray" padding="5pt" >
                                        <fo:block>Last Name</fo:block>
                                    </fo:table-cell>
                                    <!-- Ajoutez autant de colonnes que nécessaire -->
                                </fo:table-row>
                            </fo:table-body>
                        </fo:table>
                    </fo:block>
                    <!-- Entête avec des rectangles -->
                    <fo:block>
                        <fo:table width="100%" table-layout="fixed">
                            <fo:table-column column-width="proportional-column-width(1)"/>
                            <fo:table-column column-width="proportional-column-width(1)"/>
                            <fo:table-body>
                                <fo:table-row border-bottom="1pt solid black" border-top="1pt solid black" font="8pt Helvetica" font-weight="bold">
                                    <fo:table-cell background-color="lightgray" padding="5pt" >
                                        <fo:block>First Name</fo:block>
                                    </fo:table-cell>
                                    <fo:table-cell background-color="lightgray" padding="5pt" >
                                        <fo:block>Last Name</fo:block>
                                    </fo:table-cell>
                                    <!-- Ajoutez autant de colonnes que nécessaire -->
                                </fo:table-row>
                            </fo:table-body>
                        </fo:table>
                    </fo:block>
                </fo:static-content>

                <!-- Corps de la page -->
                <fo:flow flow-name="xsl-region-body">
                    <!-- Tableau de données -->
                    <fo:block >
                        <fo:table width="100%" table-layout="fixed" font="8pt Helvetica">
                            <fo:table-column column-width="proportional-column-width(1)"/>
                            <fo:table-column column-width="proportional-column-width(1)"/>
                            <!-- Ajoutez autant de colonnes que nécessaire-->
                            <fo:table-body>
                                <!-- Lignes de données -->
                                <xsl:apply-templates select="object[@type='t__t_actor']"/>
                            </fo:table-body>
                        </fo:table>
                    </fo:block>
                </fo:flow>
            </fo:page-sequence>
        </fo:root>

    </xsl:template>

    <xsl:template match="/object/object[@name='resultset']/object[@type='t__t_actor']">
        <fo:table-row border-bottom="1pt solid black" border-top="1pt solid black">
            <fo:table-cell padding="5pt" >
                <fo:block ><xsl:apply-templates select="string[@name='first_name']"/></fo:block>
            </fo:table-cell>
            <fo:table-cell padding="5pt"  >
                <fo:block><xsl:apply-templates select="string[@name='last_name']"/></fo:block>
            </fo:table-cell>
            <!-- Ajoutez autant de cellules que nécessaire -->
        </fo:table-row>
        <xsl:apply-templates/>
    </xsl:template>

</xsl:stylesheet>

dcount(actor_id, t_actor) = 2
dcount(actor_id, t_actor, actor_id < 2) = 1
dsum(actor_id, t_actor) = 3
dsum(actor_id, t_actor, actor_id < 2) = 1
