<?xml-model href="../../../../VueProjects/docs-vuepress/docs/.vuepress/public/cyklang.xsd" ?>
<module>
    <function name="buildname" returns="result: string">
        <string name="first"/>
        <string name="last"/>
        <block>
            <set name="result">first + " " + last</set>
        </block>
    </function>
    <function name="buildresume" returns="result: string">
        <string name="name"/>
        <string name="comment"/>
        <block>
            <set name="result">name + " : " + comment</set>
        </block>
    </function>
    <string name="firstname">"John"</string>
    <string name="lastname">"DOE"</string>
    <string name="name" reactive="">buildname(firstname, lastname)</string>
    <string name="comment">"Le soldat inconnu"</string>
    <string name="resume" reactive="">buildresume(name, comment)</string>
    <print>"name: " + name</print>
    <print>"resume: " + resume</print>
    <set name="lastname">"WAYNE"</set>
    <set name="comment">"Le cow-boy"</set>
    <sleep>100</sleep>
    <print>"name: " + name</print>
    <print>"resume: " + resume</print>

    <datetime name="dtbirth">datetime("1963-11-04 14:00")</datetime>
    <print>"dtbirth: " + dateformat(dtbirth, "DD/MM/YYYY HH:mm")</print>
    <print>"dtbirth: " + dateformat(dtbirth, "MMMM YYYY", "fr")</print>
    
    <print>"numberformat(123456.789) : " + numberformat(123456.789)</print>
    <print>"moneyformat(123456.789) : " + moneyformat(123456.789)</print>
    <print>"moneyformat(123456.789, 'USD') : " + moneyformat(123456.789, 'USD')</print>

    <object name="v">
        <number name="_010_">1000</number>
    </object>

    <call object="v" method="pushnamevariable">
        <string name="name">"AA"</string>
        <number name="variable">2000</number>
    </call>
    <call object="v" method="pushnamevariable">
        <string name="name">"AB"</string>
        <number name="variable">500</number>
    </call>
    <call object="v" method="pushnamevariable">
        <string name="name">"AC"</string>
        <number name="variable">100</number>
    </call>
    <call object="v" method="pushnamevariable">
        <string name="name">"AD"</string>
        <number name="variable" reactive="">v.AA - v.AB - v.AC</number>
    </call>

    <print>"v._010_ = " + v._010_</print>
    <print>"v.AA = " + v.AA</print>
    <print>"v.AB = " + v.AB</print>
    <print>"v.AC = " + v.AC</print>
    <print>"v.AD = " + v.AD</print>
    <set name="v.AC">200</set>
    <print>"v.AC = " + v.AC</print>
    <sleep>1</sleep>
    <print>"v.AD = " + v.AD</print>

    <call object="v" method="set">
        <string name="name">"AA"</string>
        <number name="value">2500</number>
    </call>

    <print>"v = " + xmlformat(v)</print>

</module>